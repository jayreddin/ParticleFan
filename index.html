<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Motor Speed Control</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
        }
        input[type="range"] {
            width: 80%;
        }
    </style>
</head>
<body>
    <h1>Motor Speed Control</h1>
    <input type="range" id="speedSlider" min="0" max="255" value="0">
    <p>Speed: <span id="speedValue">0</span></p>

    <script>
        const particleAccessToken = '482cbf4fd2dc06ae47382ad61e2fabf3c3030156'; // Replace with your Particle access token
        const deviceId = '2b004f000e51353532343635'; // Replace with your device ID

        const speedSlider = document.getElementById('speedSlider');
        const speedValue = document.getElementById('speedValue');

        speedSlider.addEventListener('input', updateSpeed);

        function updateSpeed() {
            const speed = speedSlider.value;
            speedValue.textContent = speed;
            setMotorSpeed(speed);
        }

        function setMotorSpeed(speed) {
            fetch(`https://api.particle.io/v1/devices/${deviceId}/setSpeed`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${particleAccessToken}`
                },
                body: JSON.stringify({ arg: speed })
            })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error('Error:', error));
        }
    </script>
</body>
</html>
